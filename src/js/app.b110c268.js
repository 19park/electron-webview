(function(e){function t(t){for(var a,i,o=t[0],l=t[1],c=t[2],d=0,f=[];d<o.length;d++)i=o[d],s[i]&&f.push(s[i][0]),s[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(f.length)f.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,o=1;o<n.length;o++){var l=n[o];0!==s[l]&&(a=!1)}a&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},s={app:0},r=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},4678:function(e,t,n){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"73332","./en-il.js":"73332","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(e){var t=r(e);return n(t)}function r(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}s.keys=function(){return Object.keys(a)},s.resolve=r,e.exports=s,s.id="4678"},"56d7":function(e,t,n){"use strict";n.r(t);n("14c6"),n("08c1"),n("4842"),n("d9fc"),n("db4d");var a=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-fade-transition",[n("router-view")],1)],1)},r=[],i={name:"App",data:function(){return{}}},o=i,l=n("2877"),c=n("6544"),u=n.n(c),d=n("7496"),f=n("0789"),h=Object(l["a"])(o,s,r,!1,null,null,null),p=h.exports;u()(h,{VApp:d["a"],VFadeTransition:f["c"]});n("6762"),n("2fdb");var v=n("8c4f"),m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{id:"login"}},[n("v-content",[n("v-container",{attrs:{fluid:"","fill-height":""}},[n("v-layout",{attrs:{"align-center":"","justify-center":""}},[n("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[n("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-card",{staticClass:"elevation-12"},[n("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[n("v-toolbar-title",[e._v("로그인")]),n("v-spacer")],1),n("v-card-text",[n("v-text-field",{attrs:{label:"이메일",name:"email","prepend-icon":"person",type:"email",counter:50,rules:e.emailRules,required:""},model:{value:e.email,callback:function(t){e.email="string"===typeof t?t.trim():t},expression:"email"}}),n("v-text-field",{attrs:{label:"비밀번호",name:"password","prepend-icon":"lock",type:"password",counter:20,rules:e.passwordRules,required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.validate(t)}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary"},on:{click:e.validate}},[e._v("로그인")])],1)],1),n("router-link",{staticClass:"d-block text-center mt-5",attrs:{to:"/register"}},[e._v("\n                            계정이 없니?\n                        ")])],1)],1)],1)],1)],1)],1)},b=[],g=(n("a481"),{name:"login",data:function(){return{valid:!0,email:"",emailRules:[function(e){return!!e||"이메일은 필수 항목입니다."},function(e){return/.+@.+\..+/.test(e)||"이메일이 형식에 맞지 않습니다."}],password:"",passwordRules:[function(e){return!!e||"비밀번호는 필수 항목입니다."},function(e){return e&&e.length>=6||"비밀번호는 6자이상 입력해주세요."}],usersRef:null}},methods:{validate:function(){this.$refs.form.validate()&&this.doLogin()},doLogin:function(){var e=this,t=this.$common.getLoader(this);this.$firebase.auth().signInWithEmailAndPassword(this.email,this.password).then(function(t){var n=t.user;e.$store.dispatch("setUser",n),e.$snack["success"]({text:"".concat(n.displayName,"님 안녕하세요.")}),e.$router.replace("/")}).catch(function(n){var a="auth/user-not-found"===n.code?"등록되지 않은 사용자입니다.":n.message;e.$alert.showAlertToWarning("로그인 에러",a),t.hide()})}},created:function(){this.usersRef=this.$firebase.database().ref("users")}}),y=g,j=n("8336"),w=n("b0af"),C=n("99d9"),k=n("a523"),_=n("a75b"),x=n("0e8f"),T=n("4bd4"),O=n("a722"),V=n("2fa4"),$=n("8654"),S=n("71d9"),P=n("2a7f"),R=Object(l["a"])(y,m,b,!1,null,null,null),A=R.exports;u()(R,{VApp:d["a"],VBtn:j["a"],VCard:w["a"],VCardActions:C["a"],VCardText:C["b"],VContainer:k["a"],VContent:_["a"],VFlex:x["a"],VForm:T["a"],VLayout:O["a"],VSpacer:V["a"],VTextField:$["a"],VToolbar:S["a"],VToolbarTitle:P["a"]});var L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{id:"register"}},[n("v-content",[n("v-container",{attrs:{fluid:"","fill-height":""}},[n("v-layout",{attrs:{"align-center":"","justify-center":""}},[n("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[n("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-card",{staticClass:"elevation-12"},[n("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[n("v-toolbar-title",[e._v("가입하기")]),n("v-spacer")],1),n("v-card-text",[n("v-text-field",{attrs:{label:"이름",name:"name","prepend-icon":"person",type:"email",counter:10,rules:e.nameRules,required:""},model:{value:e.name,callback:function(t){e.name="string"===typeof t?t.trim():t},expression:"name"}}),n("v-text-field",{attrs:{label:"이메일",name:"email","prepend-icon":"person",type:"email",counter:50,rules:e.emailRules,required:""},model:{value:e.email,callback:function(t){e.email="string"===typeof t?t.trim():t},expression:"email"}}),n("v-text-field",{attrs:{label:"비밀번호",name:"password","prepend-icon":"lock",type:"password",counter:20,rules:e.passwordRules,required:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),n("v-text-field",{attrs:{label:"비밀번호 확인",name:"password_confirm","prepend-icon":"lock",type:"password",counter:20,rules:e.password_confirmRules,required:""},model:{value:e.password_confirm,callback:function(t){e.password_confirm=t},expression:"password_confirm"}})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{to:"/"}},[e._v("\n                                    취소\n                                ")]),n("v-btn",{attrs:{color:"primary"},on:{click:e.validate}},[e._v("가입")])],1)],1)],1)],1)],1)],1)],1)],1)},I=[],U=n("967e"),M=n.n(U),E=(n("96cf"),n("3b8d")),D=(n("7f7f"),n("6821f")),F=n.n(D),N={name:"register",data:function(){return{valid:!0,name:"",nameRules:[function(e){return!!e||"이름은 필수 항목입니다."},function(e){return e&&e.length<=10||"이름은 10자이하로 입력해주세요."}],email:"",emailRules:[function(e){return!!e||"이메일은 필수 항목입니다."},function(e){return/.+@.+\..+/.test(e)||"이메일이 형식에 맞지 않습니다."}],password:"",passwordRules:[function(e){return!!e||"비밀번호는 필수 항목입니다."},function(e){return e&&e.length>=6||"비밀번호는 6자이상 입력해주세요."}],password_confirm:"",password_confirmRules:[function(e){return!!e||"비밀번호확인은 필수 항목입니다."},function(e){return e&&e.length>=6||"비밀번호확인은 6자이상 입력해주세요."}],usersRef:null}},methods:{validate:function(){if(this.$refs.form.validate()){if(this.password!==this.password_confirm)return void this.$alert.showAlertToWarning("비밀번호 확인","확인 비밀번호가 다릅니다");this.doRegister()}},doRegister:function(){var e=this,t=this.$common.getLoader(this);this.$firebase.auth().createUserWithEmailAndPassword(this.email,this.password).then(function(n){var a=n.user;a.updateProfile({displayName:e.name,photoURL:"http://www.gravatar.com/avatar/".concat(F()(a.email),"?d=identicon")}).then(Object(E["a"])(M.a.mark(function t(){return M.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.saveUserToUsersRef(a).then(function(){e.$store.dispatch("setUser",a),e.$snack["success"]({text:"가입 완료되었습니다. 로그인 해주세요."}),e.$router.push("/login")});case 2:case"end":return t.stop()}},t)}))).catch(function(t){e.$alert.showAlertToWarning(t.message)}).finally(function(){t.hide()})}).catch(function(n){e.$alert.showAlertToWarning(n.message),t.hide()})},saveUserToUsersRef:function(e){return this.usersRef.child(e.uid).set({name:e.displayName,avatar:e.photoURL})}},created:function(){this.usersRef=this.$firebase.database().ref("users")}},z=N,B=Object(l["a"])(z,L,I,!1,null,null,null),W=B.exports;u()(B,{VApp:d["a"],VBtn:j["a"],VCard:w["a"],VCardActions:C["a"],VCardText:C["b"],VContainer:k["a"],VContent:_["a"],VFlex:x["a"],VForm:T["a"],VLayout:O["a"],VSpacer:V["a"],VTextField:$["a"],VToolbar:S["a"],VToolbarTitle:P["a"]});var q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{id:"tchat"}},[n("v-navigation-drawer",{attrs:{app:"",clipped:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[n("v-list",[n("v-list-item",{staticClass:"pr-0"},[n("v-list-item-avatar",{staticClass:"my-0"},[n("img",{attrs:{src:e.currentUser?e.currentUser.photoURL:"/empty_user.png",alt:"Profile"}})]),n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(e.currentUser.displayName))]),n("v-list-item-subtitle",{attrs:{title:e.currentUser.email}},[e._v(e._s(e.currentUser.email))])],1),n("v-list-item-action",{staticClass:"my-0",on:{click:e.doLogout}},[n("v-tooltip",{attrs:{right:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:"",ripple:""}},a),[n("v-icon",{attrs:{color:"darken-1"}},[e._v("logout")])],1)]}}])},[n("span",[e._v("로그아웃")])])],1)],1),n("v-list-item",[n("v-list-item-title",{staticClass:"cyan--text text--lighten-3"},[n("v-btn",{attrs:{block:""},on:{click:e.doAddChannals}},[n("v-icon",{attrs:{left:""}},[e._v("add")]),e._v("\n                        채널 생성하기\n                    ")],1)],1)],1)],1),n("v-list",{attrs:{dense:""}},[e._l(e.channels,function(t){return n("v-list-item",{key:t.id,on:{click:function(n){return e.changeChannel(t)}}},[n("v-list-item-action",[n("v-icon",{attrs:{color:e.isChannelActive(t)?"orange darken-1":""}},[e._v("lens")])],1),n("v-list-item-content",[n("v-list-item-title",{staticClass:"d-flex justify-space-between align-center",class:{"orange--text text--darken-1":e.isChannelActive(t)}},[n("div",[e._v(e._s(t.name))]),e.getNotification(t)>0&&t.id!==e.currentChannel.id?n("div",[n("v-chip",{attrs:{ripple:!1,color:"red"}},[e._v("\n                                "+e._s(e.getNotification(t))+"\n                            ")])],1):e._e()])],1)],1)}),n("v-subheader",{staticClass:"mt-4 pl-4 grey--text",staticStyle:{"font-size":"1rem"}},[e._v("사용자\n            ")]),n("Users",{ref:"userContainer"})],2)],1),n("v-app-bar",{attrs:{app:"","clipped-left":"",color:"blue",dense:""}},[n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),n("v-icon",{staticClass:"mx-4"},[e._v("fab fa-youtube")]),n("v-toolbar-title",{staticClass:"mr-12 align-center"},[n("span",{staticClass:"title"},[e._v("No talk Can Win")])])],1),n("v-content",{staticClass:"fill-height"},[n("v-container",{attrs:{fluid:"","fill-height":""}},[n("v-fade-transition",[n("router-view")],1)],1)],1),n("ModalChannels",{ref:"modalChannels",on:{change:e.setChannelActive}})],1)},H=[],Q=(n("8e6e"),n("456d"),n("20d6"),n("ac6a"),n("bd86")),K=n("2f62"),G={methods:{handleNotifications:function(e,t,n,a){var s=0,r=n.findIndex(function(t){return t.id===e});-1!==r?(e!==t&&(s=n[r].total,a.numChildren()-s>0&&(n[r].notif=a.numChildren()-s)),n[r].lastKnownTotal=a.numChildren()):n.push({id:e,total:a.numChildren(),lastKnownTotal:a.numChildren(),notif:0})}}},Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-list",[e.users.length?e._l(e.users,function(t){return n("v-list-item",{key:t.uid,class:{"grey darken-2":e.isActive(t.uid)},on:{click:function(n){return n.preventDefault(),e.changeChannel(t)}}},[n("v-list-item-avatar",[n("img",{attrs:{src:t.avatar,alt:""}})]),n("v-list-item-title",{staticClass:"d-flex justify-space-between align-center",class:{"green--text":e.isOnline(t),"grey--text":!e.isOnline(t)}},[n("div",{staticClass:"font-weight-bold"},[e._v(e._s(t.name))]),e.getNotification(t)>=1?n("div",[n("v-chip",{attrs:{ripple:!1,color:"red"}},[e._v("\n                        "+e._s(e.getNotification(t))+"\n                    ")])],1):e._e()])],1)}):[n("v-list-item",[n("v-list-item-subtitle",{staticClass:"grey--text"},[e._v("사용자 없음")])],1)]],2)},J=[];function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(n,!0).forEach(function(t){Object(Q["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ee={name:"Users",data:function(){return{users:[],usersRef:null,connectedRef:null,presenceRef:null,privateMessagesRef:null,notifCount:[],channel:null}},mixins:[G],computed:Z({},Object(K["b"])(["currentUser","currentChannel","isPrivate"])),watch:{isPrivate:function(){this.isPrivate||this.resetNotifications()}},methods:{addListeners:function(){var e=this;this.usersRef.on("child_added",function(t){var n,a;if(e.currentUser.uid!==t.key){var s=t.val();s["uid"]=t.key,s["status"]="offline",e.users.push(s)}if(!e.currentChannel&&(null===(n=e.$route.params)||void 0===n?void 0:n.userId1)&&(null===(a=e.$route.params)||void 0===a?void 0:a.userId2)){var r=e.$route.params,i=r.userId1,o=r.userId2;i===t.key&&(e.$store.dispatch("setPrivate",!0),e.$store.dispatch("setChannel",{id:"".concat(i,"/").concat(o),name:t.val().name}))}}),this.presenceRef.on("child_added",function(t){if(e.currentUser.uid!==t.key){e.addStatusToUser(t.key);var n=e.getChannelId(t.key);e.privateMessagesRef.child(n).on("value",function(t){e.handleNotifications(n,e.currentChannel.id,e.notifCount,t)})}}),this.presenceRef.on("child_removed",function(t){e.currentUser.uid!==t.key&&(e.addStatusToUser(t.key,!1),e.privateMessagesRef.child(e.getChannelId(t.key)).off())}),this.connectedRef.on("value",function(t){if(!0===t.val()){var n=e.presenceRef.child(e.currentUser.uid);n.set(!0),n.onDisconnect().remove(function(t){t&&e.$alert.showAlertToWarning(t)})}})},addStatusToUser:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.users.findIndex(function(t){return t.uid===e});-1!==n&&(this.users[n].status=!0===t?"online":"offline")},isOnline:function(e){return"online"==e.status},changeChannel:function(e){null===this.channel?this.resetNotifications(e):this.resetNotifications();var t=this.getChannelId(e.uid),n={id:t,name:e.name};this.channel=n,this.$store.dispatch("setPrivate",!0),this.$store.dispatch("setChannel",n),this.$router.push("/private/".concat(t))},isActive:function(e){var t,n=this.getChannelId(e);return(null===(t=this.currentChannel)||void 0===t?void 0:t.id)===n},getChannelId:function(e){return e<this.currentUser.uid?"".concat(e,"/").concat(this.currentUser.uid):"".concat(this.currentUser.uid,"/").concat(e)},getNotification:function(e){var t=this.getChannelId(e.uid),n=0;return this.notifCount.forEach(function(e){e.id===t&&(n=e.notif)}),n},resetNotifications:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=null;t?n=this.getChannelId(t.uid):n=null===(e=this.channel)||void 0===e?void 0:e.id;var a=this.notifCount.findIndex(function(e){return e.id===n});-1!==a&&(this.notifCount[a].total=this.notifCount[a].lastKnownTotal,this.notifCount[a].notif=0)},detachListeners:function(){this.usersRef.off(),this.presenceRef.off(),this.connectedRef.off(),this.privateMessagesRef.off()}},created:function(){this.usersRef=this.$firebase.database().ref("users"),this.connectedRef=this.$firebase.database().ref(".info/connected"),this.presenceRef=this.$firebase.database().ref("presence"),this.privateMessagesRef=this.$firebase.database().ref("privateMessages")},mounted:function(){this.addListeners()},beforeDestroy:function(){this.detachListeners()}},te=ee,ne=n("cc20c"),ae=n("8860"),se=n("da13"),re=n("8270"),ie=n("5d23"),oe=Object(l["a"])(te,Y,J,!1,null,"3711595f",null),le=oe.exports;u()(oe,{VChip:ne["a"],VList:ae["a"],VListItem:se["a"],VListItemAvatar:re["a"],VListItemSubtitle:ie["b"],VListItemTitle:ie["c"]});var ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",{attrs:{"justify-center":""}},[n("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(e){e.preventDefault()}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[e._v("채널 생성")])]),n("v-card-text",[n("v-container",{attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{label:"새로운 채널",hint:"만드실 채널명을 입력해주세요.",counter:20,rules:e.new_channelRules,required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.validate(t)}},model:{value:e.new_channel,callback:function(t){e.new_channel=t},expression:"new_channel"}})],1)],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.doClose(t)}}},[e._v("\n                        닫기\n                    ")]),n("v-btn",{attrs:{type:"button",color:"primary"},on:{click:function(t){return t.preventDefault(),e.validate(t)}}},[e._v("\n                        생성\n                    ")])],1)],1)],1)],1)],1)},ue=[],de={name:"Channals",data:function(){return{dialog:!1,valid:!0,new_channel:"",new_channelRules:[function(e){return!!e||"채널명은 필수 항목입니다."},function(e){return e&&e.length<=20||"채널은 20자이하로 입력해주세요."}],channelsRef:null}},methods:{doOpen:function(e){this.dialog=!0,this.new_channel="",this.channelsRef=e},doClose:function(){this.dialog=!1},validate:function(){this.$refs.form.validate()&&this.addChannels()},addChannels:function(){var e=this,t=this.channelsRef.push().key,n={id:t,name:this.new_channel};this.channelsRef.child(t).update(n).then(function(){e.$alert.showCommonAlert("생성되었습니다.",function(){e.new_channel="",e.doClose(),e.$emit("change",t)})}).catch(function(t){e.$alert.showAlertToWarning(t.message)})}}},fe=de,he=n("169a"),pe=Object(l["a"])(fe,ce,ue,!1,null,"7cc9eb2d",null),ve=pe.exports;function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(n,!0).forEach(function(t){Object(Q["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}u()(pe,{VBtn:j["a"],VCard:w["a"],VCardActions:C["a"],VCardText:C["b"],VCardTitle:C["c"],VContainer:k["a"],VDialog:he["a"],VFlex:x["a"],VForm:T["a"],VLayout:O["a"],VSpacer:V["a"],VTextField:$["a"]});var ge={name:"tchat",data:function(){return{drawer:null,channels:[],channelsRef:null,notifCount:[],channel:null}},mixins:[G],computed:be({},Object(K["b"])(["currentUser","currentChannel","isPrivate"])),components:{Users:le,ModalChannels:ve},watch:{isPrivate:function(){this.isPrivate&&this.resetNotifications()}},methods:{doLogout:function(){var e=this,t=this.$common.getLoader(this);this.$firebase.database().ref("presence").child(this.currentUser.uid).remove(),this.$firebase.auth().signOut().then(function(){e.$store.dispatch("setUser",null),e.$router.push("/login")}).catch(function(t){e.$alert.showAlertToWarning(t.message)}).finally(function(){t.hide()})},doAddChannals:function(){this.$refs.modalChannels.doOpen(this.channelsRef)},addListeners:function(){var e=this;this.channelsRef.on("child_added",function(t){e.channels.push(t.val()),e.addCountListener(t.key),!e.currentChannel&&e.$route.params.channelId&&e.$route.params.channelId===t.val().id&&e.changeChannel(t.val())})},addCountListener:function(e){var t=this;this.$firebase.database().ref("messages").child(e).on("value",function(n){var a;t.handleNotifications(e,null===(a=t.currentChannel)||void 0===a?void 0:a.id,t.notifCount,n)})},getNotification:function(e){var t=0;return this.notifCount.forEach(function(n){n.id===e.id&&(t=n.notif)}),t},changeChannel:function(e){this.resetNotifications(),this.$store.dispatch("setPrivate",!1),this.$store.dispatch("setChannel",e),this.channel=e,this.$router.push("/channel/".concat(e.id))},resetNotifications:function(){var e=this,t=this.notifCount.findIndex(function(t){var n;return t.id===(null===(n=e.channel)||void 0===n?void 0:n.id)});-1!==t&&(this.notifCount[t].total=this.notifCount[t].lastKnownTotal,this.notifCount[t].notif=0)},setChannelActive:function(e){var t=this;this.channels.forEach(function(n){n.id===e&&t.changeChannel(n)})},isChannelActive:function(e){var t;return e.id===(null===(t=this.currentChannel)||void 0===t?void 0:t.id)},detachListeners:function(){var e=this;this.channelsRef.off(),this.channels.forEach(function(t){e.$firebase.database().ref("messages").child(t.id).off()})}},created:function(){this.channelsRef=this.$firebase.database().ref("channels")},mounted:function(){this.addListeners()},beforeDestroy:function(){this.detachListeners()}},ye=ge,je=n("40dc"),we=n("5bc1"),Ce=n("132d"),ke=n("1800"),_e=n("f774"),xe=n("e0c7"),Te=n("3a2f"),Oe=Object(l["a"])(ye,q,H,!1,null,null,null),Ve=Oe.exports;u()(Oe,{VApp:d["a"],VAppBar:je["a"],VAppBarNavIcon:we["a"],VBtn:j["a"],VChip:ne["a"],VContainer:k["a"],VContent:_["a"],VFadeTransition:f["c"],VIcon:Ce["a"],VList:ae["a"],VListItem:se["a"],VListItemAction:ke["a"],VListItemAvatar:re["a"],VListItemContent:ie["a"],VListItemSubtitle:ie["b"],VListItemTitle:ie["c"],VNavigationDrawer:_e["a"],VSubheader:xe["a"],VToolbarTitle:P["a"],VTooltip:Te["a"]});var $e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",{attrs:{"justify-center":"",column:"",nowrap:""}},[n("v-flex",{ref:"messageWrap",staticClass:"message__wrap overflow-y-auto"},[n("v-slide-y-transition",{staticClass:"py-0",attrs:{"three-line":"",group:"",tag:"div"}},[e._l(e.messages,function(t,a){return[t.header?n("v-subheader",{key:t.header,domProps:{textContent:e._s(t.header)}}):e._e(),a>0?n("v-divider",{key:a,attrs:{inset:t.inset}}):e._e(),n("v-list-item",{key:t.id,class:{comment__self:e.selfMessage(t.user)}},[n("v-list-item-avatar",{staticClass:"align-self-start"},[n("v-img",{attrs:{src:t.user.avatar}})],1),e.isFile(t)?n("v-list-item-content",[n("v-list-item-title",{staticClass:"d-flex justify-space-between mb-2"},[n("strong",[e._v(e._s(t.user.name))]),n("span",{staticClass:"grey--text message__fromNow"},[e._v(e._s(e._f("fromNow")(t.timestamp)))])]),n("v-img",{staticStyle:{flex:"0 1 auto"},attrs:{src:t.image,"lazy-src":t.image,"max-width":"600",contain:""},scopedSlots:e._u([{key:"placeholder",fn:function(){return[n("v-layout",{attrs:{"fill-height":"","align-center":"","justify-center":"","ma-0":""}},[n("v-progress-circular",{attrs:{indeterminate:"",color:"grey lighten-5"}})],1)]},proxy:!0}],null,!0)})],1):n("v-list-item-content",[n("v-list-item-title",{staticClass:"d-flex justify-space-between mb-2"},[n("strong",[e._v(e._s(t.user.name))]),n("span",{staticClass:"grey--text message__fromNow"},[e._v(e._s(e._f("fromNow")(t.timestamp)))])]),n("v-list-item-subtitle",{domProps:{innerHTML:e._s(t.content)}})],1)],1)]})],2)],1),n("v-flex",{staticStyle:{"flex-grow":"0"}},[n("MessageForm")],1)],1)},Se=[],Pe=n("c1df"),Re=n.n(Pe),Ae=function(e,t){if(e){var n=e.scrollHeight;if(n=Math.round(n),t=Math.round(t),t<0)return!1;if(0===t)return e.scrollTop=n,!0;var a=Date.now(),s=a+t,r=e.scrollTop,i=n-r,o=function(e,t,n){if(n<=e)return 0;if(n>=t)return 1;var a=(n-e)/(t-e);return a*a*(3-2*a)},l=e.scrollTop,c=function t(){if(e.scrollTop!==l)return!1;var n=Date.now(),c=o(a,s,n),u=Math.round(r+i*c);return e.scrollTop=u,n>=s||(e.scrollTop===l&&e.scrollTop!==u||(l=e.scrollTop,void setTimeout(t,0)))};setTimeout(c,0)}},Le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",{attrs:{column:""}},[n("v-flex",{attrs:{"mt-3":"",layout:""}},[n("v-textarea",{attrs:{solo:"",label:"Messages","hide-details":"","no-resize":""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.sendMessage(t)}},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}}),n("v-flex",{staticClass:"flex-grow-0",attrs:{layout:"",column:""}},[n("v-btn",{staticClass:"ml-3 mb-3 fill-height",attrs:{large:"",color:"primary"},on:{click:e.sendMessage}},[e._v("전송")]),n("v-btn",{staticClass:"ml-3 fill-height",attrs:{large:"",dark:"",disabled:"uploading"===e.uploadState},on:{click:e.doOpenFile}},[n("v-icon",{attrs:{color:"grey lighten-2"}},[e._v("add_photo_alternate")])],1),n("FileModal",{ref:"modalFile",on:{upload:e.uploadFile}})],1)],1),n("v-slide-y-transition",{attrs:{"leave-absolute":""}},[e.uploadState?n("v-flex",{staticClass:"mt-3"},[n("v-progress-linear",{attrs:{value:e.percent}}),n("p",{staticClass:"pa-3"},[e._v(e._s(e.uploadLabel))])],1):e._e()],1)],1)},Ie=[],Ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",{attrs:{"justify-center":""}},[n("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(e){e.preventDefault()}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[e._v("파일 업로드")])]),n("v-card-text",[n("v-container",{attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("input",{ref:"inpFiles",staticClass:"deep-purple accent-4",attrs:{type:"file",rules:e.fileRules},on:{change:e.addFile}})])],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.doClose(t)}}},[e._v("\n                        닫기\n                    ")]),n("v-btn",{attrs:{type:"button",color:"primary"},on:{click:function(t){return t.preventDefault(),e.validate(t)}}},[e._v("\n                        확인\n                    ")])],1)],1)],1)],1)],1)},Me=[],Ee=n("cc1d"),De=n.n(Ee),Fe={name:"FileModal",data:function(){return{dialog:!1,valid:!0,file:null,fileRules:[function(e){return!!e||"파일은 필수 항목입니다."}],authorized:["image/jpeg","image/png","image/peg","image/gif"]}},methods:{doOpen:function(){var e=this;this.dialog=!0,this.file=null,this.$nextTick(function(){e.$refs.inpFiles.value="",e.$refs.form.reset()})},doClose:function(){this.dialog=!1},validate:function(){this.$refs.form.validate()&&this.sendFile()},addFile:function(e){var t=e.target.files[0];this.file=t},sendFile:function(){if(null!==this.file)if(this.isValid(this.file.name)){var e={contentType:De.a.lookup(this.file.name)};this.$emit("upload",this.file,e),this.doClose()}else this.$alert.showAlertToWarning("파일확인","사진 업로드는 jpg/png/gif 만 가능합니다. "+De.a.lookup(this.file.name));else this.$alert.showAlertToWarning("파일확인","파일을 선택해주세요.")},isValid:function(e){var t=this.authorized.indexOf(De.a.lookup(e));return-1!==t}}},Ne=Fe,ze=Object(l["a"])(Ne,Ue,Me,!1,null,"cb1df062",null),Be=ze.exports;u()(ze,{VBtn:j["a"],VCard:w["a"],VCardActions:C["a"],VCardText:C["b"],VCardTitle:C["c"],VContainer:k["a"],VDialog:he["a"],VFlex:x["a"],VForm:T["a"],VLayout:O["a"],VSpacer:V["a"]});var We=n("c64e"),qe=n.n(We);function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(n,!0).forEach(function(t){Object(Q["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Ke={name:"MessageForm",data:function(){return{message:"",percent:0,uploadTask:null,uploadState:null}},computed:Qe({},Object(K["b"])(["currentChannel","currentUser","isPrivate"]),{uploadLabel:function(){switch(this.uploadState){case"uploading":return"업로드 중.. 기다리셈";case"error":return"업로드 에러ㅠ";case"done":return"완료ㅋ";default:return""}}}),components:{FileModal:Be},methods:{sendMessage:function(){var e=this;this.message.length>0?this.$parent.getMessageRef().child(this.currentChannel.id).push().set(this.createMessage()).then(function(){e.uploadState=null}).catch(function(t){e.$alert.showAlertToWarning(t.message)}).finally(function(){e.message=""}):this.$alert.showAlertToWarning("알림","메시지를 입력해주세요.")},createMessage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t={timestamp:this.$firebase.database.ServerValue.TIMESTAMP,user:{name:this.currentUser.displayName,avatar:this.currentUser.photoURL,id:this.currentUser.uid}};return null==e?t["content"]=this.message:t["image"]=e,t},doOpenFile:function(){this.$refs.modalFile.doOpen()},uploadFile:function(e,t){var n=this;if(null===e)return!1;var a=this.currentChannel.id,s=this.$parent.getMessageRef(),r=e.name.lastIndexOf("."),i=e.name.substring(r,e.name.length).toLowerCase(),o="".concat(this.getPath(),"/").concat(qe()()).concat(i);this.uploadTask=this.$firebase.storage().ref().child(o).put(e,t),this.uploadState="uploading",this.uploadTask.on("state_changed",function(e){var t=e.bytesTransferred/e.totalBytes*100;n.percent=t},function(e){n.$alert.showAlertToWarning(e.message),n.uploadState="error",n.uploadTask=null},function(){n.uploadState="done",n.uploadTask.snapshot.ref.getDownloadURL().then(function(e){n.sendFileMessage(e,s,a)})})},sendFileMessage:function(e,t,n){var a=this;t.child(n).push().set(this.createMessage(e)).then(function(){a.uploadState=null,a.$nextTick(function(){a.$parent.moveToScroll()})}).catch(function(e){a.$alert.showAlertToWarning(e.message)})},getPath:function(){return this.isPrivate?"tchat/private/".concat(this.currentChannel.id):"tchat/public"}},beforeDestroy:function(){null!==this.uploadTask&&(this.uploadState=null,this.uploadTask.cancel(),this.uploadTask=null)}},Ge=Ke,Ye=n("8e36"),Je=n("a844"),Xe=Object(l["a"])(Ge,Le,Ie,!1,null,"b2b1614a",null),Ze=Xe.exports;function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(n,!0).forEach(function(t){Object(Q["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}u()(Xe,{VBtn:j["a"],VFlex:x["a"],VIcon:Ce["a"],VLayout:O["a"],VProgressLinear:Ye["a"],VSlideYTransition:f["e"],VTextarea:Je["a"]});var nt={name:"messages",props:{channelId:{type:String,default:null},private:{type:Boolean,default:!1}},data:function(){return{messages:[],listeners:[],channel:null,initConfig:{load:!1}}},computed:tt({},Object(K["b"])(["currentChannel","currentUser","isPrivate"])),components:{MessageForm:Ze},watch:{currentChannel:{handler:function(e){var t=this;this.channel!==e&&(this.initConfig.load=!1,this.$nextTick(function(){t.init()}))},immediate:!0}},filters:{fromNow:function(e){return Re()(e).fromNow()}},methods:{init:function(){this.messages=[],this.detachListeners(),this.addListeners(),this.channel=this.currentChannel},selfMessage:function(e){return this.currentUser.uid===e.id},addListeners:function(){var e=this,t=this.getMessageRef(),n=this.$route.params,a=this.private?"".concat(n.userId1,"/").concat(n.userId2):this.channelId,s=this.$common.getLoader(this),r=0;t.child(a).on("child_added",function(t){r++;var n=t.val();n["id"]=t.key,e.messages.push(n),e.$nextTick(function(){e.initConfig.load?e.moveToScroll(null===n||void 0===n?void 0:n.image):e.$common.debounce(function(){e.moveToScroll(null===n||void 0===n?void 0:n.image),e.initConfig.load=!0,s.hide()},1500)})}),setTimeout(function(){0===r&&s.hide()},1e3),this.addToListeners(a,t,"child_added")},moveToScroll:function(e){var t=this;e?setTimeout(function(){Ae(t.$refs.messageWrap,0)},1500):Ae(this.$refs.messageWrap,0)},addToListeners:function(e,t,n){var a=this.listeners.findIndex(function(a){return a.id===e&&a.ref===t&&a.event===n});-1===a&&this.listeners.push({id:e,ref:t,event:n})},detachListeners:function(){this.listeners.forEach(function(e){e.ref.child(e.id).off(e.event)}),this.listeners=[],this.messages=[]},getMessageRef:function(){return this.isPrivate?this.$firebase.database().ref("privateMessages"):this.$firebase.database().ref("messages")},isFile:function(e){return!e.content&&e.image}},beforeDestroy:function(){this.detachListeners()}},at=nt,st=(n("b114"),n("ce7e")),rt=n("adda"),it=n("490a"),ot=Object(l["a"])(at,$e,Se,!1,null,null,null),lt=ot.exports;u()(ot,{VDivider:st["a"],VFlex:x["a"],VImg:rt["a"],VLayout:O["a"],VListItem:se["a"],VListItemAvatar:re["a"],VListItemContent:ie["a"],VListItemSubtitle:ie["b"],VListItemTitle:ie["c"],VProgressCircular:it["a"],VSlideYTransition:f["e"],VSubheader:xe["a"]});var ct=n("8aa5"),ut=n.n(ct);a["a"].use(v["a"]);var dt=function(e,t,n){ut.a.auth().currentUser?n():n("/login")},ft=new v["a"]({mode:"history",routes:[{path:"/login",name:"login",component:A},{path:"/register",name:"register",component:W},{path:"/",name:"chat",component:Ve,beforeEnter:dt},{path:"/channel",name:"channel",component:Ve,beforeEnter:dt,children:[{path:":channelId",component:lt,props:!0}]},{path:"/private",name:"private",component:Ve,beforeEnter:dt,children:[{path:":userId1/:userId2",component:lt,props:{private:!0}}]}]});ft.beforeEach(function(e,t,n){if(t.fullPath.includes("/login")){var a,s=null===(a=t.query)||void 0===a?void 0:a.redirect;s&&"/login"!==s?(delete t.query.redirect,n(s)):n()}else n()});var ht=ft;a["a"].use(K["a"]);var pt=new K["a"].Store({state:{currentUser:null,currentChannel:null,isPrivate:!1},getters:{currentUser:function(e){return e.currentUser},currentChannel:function(e){return e.currentChannel},isPrivate:function(e){return e.isPrivate}},mutations:{SET_USER:function(e,t){e.currentUser=t},SET_CHANNEL:function(e,t){e.currentChannel=t},SET_PRIVATE:function(e,t){e.isPrivate=t}},actions:{setUser:function(e,t){var n=e.commit;n("SET_USER",t)},setChannel:function(e,t){var n=e.commit;n("SET_CHANNEL",t)},setPrivate:function(e,t){var n=e.commit;n("SET_PRIVATE",t)}}}),vt=n("f309"),mt={primary:"#1dbdb7",secondary:"#4caf50",tertiary:"#495057",accent:"#82B1FF",error:"#f55a4e",info:"#00d3ee",success:"#5cb860",warning:"#ffa21a"};n("d1e7"),n("9299");a["a"].use(vt["a"]);var bt=new vt["a"]({icons:{iconfont:"md",theme:mt},theme:{dark:!0}}),gt=(n("22f8"),n("9062")),yt=n.n(gt);n("e40d");a["a"].use(yt.a);var jt=n("1d78"),wt=n.n(jt);n("d48c");a["a"].use(wt.a,{position:"bottom",time:3e3});var Ct=n("2ef0"),kt=n.n(Ct);a["a"].prototype._=kt.a;var _t=n("3d20"),xt=n.n(_t),Tt={install:function(e){var t={toHtml:function(e){return e&&e.length>0?e.replace("\n","<br>"):""},showCommonAlert:function(e,t){this.showAlertToQuestion("warning","알림",e,"확인",t)},showAlertToSaveWithMessage:function(e,t){this.showAlertToQuestion("warning","경고",e,"확인",t,"취소")},showAlertToSave:function(e){this.showAlertToQuestion("question","저장하시겠습니까?",null,"저장",e,"취소")},showAlertToUpdate:function(e){this.showAlertToQuestion("question","수정하시겠습니까?",null,"수정",e,"취소")},showAlertToDelete:function(e){this.showAlertToQuestion("error","삭제하시겠습니까?",null,"삭제",e,"취소")},showAlertToRetry:function(e,t,n,a){this.showAlertToQuestion("error",e,t,"재시도",n,"취소",a)},showAlertToQuestion:function(e,t,n,a,s,r,i){xt.a.fire({type:e,title:t,html:this.toHtml(n),allowOutsideClick:!1,showCancelButton:!!r,confirmButtonText:a,cancelButtonText:r}).then(function(e){e.value?s&&s():i&&i()})},showAlertToInfo:function(e){xt.a.fire({type:"warning",title:"Information!",html:this.toHtml(e),allowOutsideClick:!1,confirmButtonText:"확인"})},showAlertToWarning:function(e,t){xt.a.fire({type:"warning",title:e,html:this.toHtml(t),allowOutsideClick:!1,confirmButtonText:"확인"})},showAlertToExit:function(e,t,n){xt.a.fire({type:"info",title:e,html:this.toHtml(t),allowOutsideClick:!1,confirmButtonText:"나가기"}).then(function(){n&&n()})},showModalSuccessToProcess:function(e,t,n,a){this.showModalSuccess("처리되었습니다.",e,t,n,a)},showModalSuccessToSave:function(e,t,n,a){this.showModalSuccess("저장되었습니다.",e,t,n,a)},showModalSuccessToUpdate:function(e,t,n,a){this.showModalSuccess("수정되었습니다.",e,t,n,a)},showModalSuccessToDelete:function(e,t,n,a){this.showModalSuccess("삭제되었습니다.",e,t,n,a)},showModalSuccess:function(e,t,n,a,s){xt.a.fire({type:"success",title:e,allowOutsideClick:!0,showCancelButton:!!a,confirmButtonText:t,cancelButtonText:a}).then(function(e){e.value?n&&n():a?s&&s():n&&n()})}};e.prototype.$alert=t}};a["a"].use(Tt);var Ot,Vt=n("9b02"),$t=n.n(Vt),St=n("d58b"),Pt={install:function(e){var t={debounce:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;(function(n){Ot&&clearTimeout(Ot),Ot=setTimeout(e,t,n)})()},getLoader:function(e){return e.$loading.show({container:e.$el,canCancel:!1,backgroundColor:"#111"},{default:e.$createElement(St["a"])})},getIdMapper:function(e){return{id:$t()(e,"id",null)}},formatNumeral:function(t,n){return e.prototype.$n($t()(t,n,null)).format()}};e.prototype.$common=t}};a["a"].use(Pt);var Rt={apiKey:"AIzaSyB4PRIxuchbrRPGITh9HonN_A0D7yhwwYM",authDomain:"slack-d472b.firebaseapp.com",databaseURL:"https://slack-d472b.firebaseio.com",projectId:"slack-d472b",storageBucket:"slack-d472b.appspot.com",messagingSenderId:"1063887636953",appId:"1:1063887636953:web:3aa54c61b9d83451"};ut.a.initializeApp(Rt),a["a"].prototype.$firebase=ut.a,a["a"].config.productionTip=!1;var At=ut.a.auth().onAuthStateChanged(function(e){pt.dispatch("setUser",e),new a["a"]({router:ht,store:pt,vuetify:bt,render:function(e){return e(p)}}).$mount("#app"),At()})},8276:function(e,t,n){},9299:function(e,t,n){},b114:function(e,t,n){"use strict";var a=n("8276"),s=n.n(a);s.a}});
//# sourceMappingURL=app.b110c268.js.map